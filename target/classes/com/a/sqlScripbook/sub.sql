SELECT SV.*,
(SELECT COUNT(*)
FROM SUGGESTBBS) AS TOTALCNT
FROM
(SELECT SUGGESTBBSSEQ, SUGGESTBBSCATEGORY, SUGGESTBBSTITLE, LIKESEQ, ROWNUM as SI 
FROM SUGGESTBBS) SV
WHERE SV.SI > #{startPage} AND #{endPage} > SV.SI

SELECT SV.* FROM

(SELECT SBS.*, ROWNUM as SI, 
CASE WHEN CNT.LIKECNT IS NULL THEN 0 ELSE CNT.LIKECNT END AS LIKECNT,
CASE WHEN ML.SUGGESTBBSSEQ IS NULL THEN 0 ELSE 1 END AS LIKECHECK
FROM SUGGESTBBS SBS
LEFT JOIN (SELECT SUGGESTBBSSEQ,COUNT(*) AS LIKECNT FROM MYLIKE GROUP BY SUGGESTBBSSEQ) CNT
ON SBS.SUGGESTBBSSEQ = CNT.SUGGESTBBSSEQ
LEFT JOIN (SELECT SUGGESTBBSSEQ FROM MYLIKE WHERE EMAIL = 'ywoo0309@gmail.com') ML
ON SBS.SUGGESTBBSSEQ = ML.SUGGESTBBSSEQ
WHERE 1=1
	AND SBS.SUGGESTBBSDEL = 0 
--		<if test="category !=0">
			AND SBS.SUGGESTBBSCATEGORY = '4'
--		</if>
--		<if test="search !=null and search != ''">
			AND SBS.SUGGESTBBSTITLE LIKE '%경매%'
--		</if>
		ORDER BY SBS.SUGGESTBBSSEQ ASC) SV

WHERE SV.SI >= '1' AND '3' >= SV.SI






SELECT SV.* FROM

(SELECT SBS.*, ROWNUM as SI, 
CASE WHEN CNT.LIKECNT IS NULL THEN 0 ELSE CNT.LIKECNT END AS LIKECNT,
CASE WHEN ML.SUGGESTBBSSEQ IS NULL THEN 0 ELSE 1 END AS LIKECHECK
FROM SUGGESTBBS SBS
LEFT JOIN (SELECT SUGGESTBBSSEQ,COUNT(*) AS LIKECNT FROM MYLIKE GROUP BY SUGGESTBBSSEQ) CNT
ON SBS.SUGGESTBBSSEQ = CNT.SUGGESTBBSSEQ
LEFT JOIN (SELECT SUGGESTBBSSEQ FROM MYLIKE WHERE EMAIL = 'ywoo0309@gmail.com') ML
ON SBS.SUGGESTBBSSEQ = ML.SUGGESTBBSSEQ
WHERE 1=1
	AND SBS.SUGGESTBBSDEL = 0 
--		<if test="category !=null and category !=''">
			AND SBS.SUGGESTBBSCATEGORY = '4'
--		</if>
--		<if test="search !=null and search != ''">
			AND SBS.SUGGESTBBSTITLE LIKE '%경매%'
--		</if>
		ORDER BY SBS.SUGGESTBBSSEQ ASC) SV

WHERE SV.SI >= '1' AND '3' >= SV.SI




SELECT * FROM SUGGESTBBS



SELECT SV.* FROM
(SELECT SBS.*, ROWNUM as SI, 
CASE WHEN CNT.LIKECNT IS NULL THEN 0 ELSE CNT.LIKECNT END AS LIKECNT,
CASE WHEN ML.SUGGESTBBSSEQ IS NULL THEN 0 ELSE 1 END AS LIKECHECK,
(SELECT COUNT(*) FROM SUGGESTBBS
WHERE
<if test="category !=null and category !=''">
			AND SUGGESTBBSCATEGORY = ${SUGGESTBBSCATEGORY}
		</if>
		<if test="search !=null and search != ''">
			AND SUGGESTBBSTITLE LIKE '%'||#{search}||'%'
		</if>)
FROM SUGGESTBBS SBS	
LEFT JOIN (SELECT SUGGESTBBSSEQ,COUNT(*) AS LIKECNT FROM MYLIKE GROUP BY SUGGESTBBSSEQ) CNT
ON SBS.SUGGESTBBSSEQ = CNT.SUGGESTBBSSEQ
LEFT JOIN (SELECT SUGGESTBBSSEQ FROM MYLIKE WHERE EMAIL = 'ywoo0309@gmail.com') ML
ON SBS.SUGGESTBBSSEQ = ML.SUGGESTBBSSEQ
WHERE 1=1
	AND SBS.SUGGESTBBSDEL = 0 
		ORDER BY SBS.SUGGESTBBSSEQ ASC) SV
WHERE SV.SI >= '1' AND '3' >= SV.SI


SELECT SV.* FROM
(SELECT SBS.*, ROWNUM as SI, 
CASE WHEN CNT.LIKECNT IS NULL THEN 0 ELSE CNT.LIKECNT END AS LIKECNT,
CASE WHEN ML.SUGGESTBBSSEQ IS NULL THEN 0 ELSE 1 END AS LIKECHECK
FROM SUGGESTBBS SBS
LEFT JOIN (SELECT SUGGESTBBSSEQ,COUNT(*) AS LIKECNT FROM MYLIKE GROUP BY SUGGESTBBSSEQ) CNT
ON SBS.SUGGESTBBSSEQ = CNT.SUGGESTBBSSEQ
LEFT JOIN (SELECT SUGGESTBBSSEQ FROM MYLIKE WHERE EMAIL = 'ywoo0309@gmail.com') ML
ON SBS.SUGGESTBBSSEQ = ML.SUGGESTBBSSEQ
WHERE 1=1
	AND SBS.SUGGESTBBSDEL = 0 
			AND SBS.SUGGESTBBSCATEGORY = '0'
			AND SBS.SUGGESTBBSTITLE LIKE '%제안%'
		ORDER BY SBS.SUGGESTBBSSEQ DESC) SV
WHERE SV.SI >= '1' AND '3' >= SV.SI


SELECT NVL(COUNT(*), 0)
FROM SUGGESTBBS
WHERE 1=1 
AND SUGGESTBBSDEL = 0 
AND SUGGESTBBSCATEGORY = '1'
				AND SUGGESTBBSTITLE LIKE '%제안%'
				
				
				
SELECT SV.* FROM  
(SELECT SBS.*, ROW_NUMBER() as SI, 
CASE WHEN CNT.LIKECNT IS NULL THEN 0 ELSE CNT.LIKECNT END AS LIKECNT, 
CASE WHEN ML.SUGGESTBBSSEQ IS NULL THEN 0 ELSE 1 END AS LIKECHECK, 
(SELECT COUNT(*) FROM SUGGESTBBS  WHERE   SBS.SUGGESTBBSDEL = 0 ) as TOTALCNT  FROM SUGGESTBBS SBS  LEFT JOIN (SELECT SUGGESTBBSSEQ,COUNT(*) AS LIKECNT FROM MYLIKE GROUP BY SUGGESTBBSSEQ) CNT  ON SBS.SUGGESTBBSSEQ = CNT.SUGGESTBBSSEQ  LEFT JOIN (SELECT SUGGESTBBSSEQ FROM MYLIKE WHERE EMAIL = 'ywoo0309@gmail.com') ML  ON SBS.SUGGESTBBSSEQ = ML.SUGGESTBBSSEQ  WHERE  SBS.SUGGESTBBSDEL = 0             
ORDER BY SBS.SUGGESTBBSSEQ DESC) SV  WHERE SV.SI >= 0 AND 11 >= SV.SI


SELECT CG.CHALLENGESEQ, CG.CATEGORY, CG.IDENTIFYFREQUENCY, CG.CHALLENGEPERIOD, CG.CHALLENGETITLE, CG.CHALLENGESAVEPHOTO
FROM CHALLENGE CG
INNER JOIN CHALLENGEMEMBER CM
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE SYSDATE > CHALLENGESTART AND CHALLENGEEND > SYSDATE
AND CM.EMAIL = 'ywoo0309@gmail.com'