SELECT NOWCNT.*,
(SELECT 
COUNT(*) AS TOTAL
FROM CHALLENGE CG
INNER JOIN CHALLENGEMEMBER CM
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE SYSDATE > CG.CHALLENGESTART AND CG.CHALLENGEEND > SYSDATE
AND CM.EMAIL = 'ywoo0309@gmail.com'
) AS NOWCNT2
FROM 
(SELECT 
COUNT(*) AS TOTAL
FROM CHALLENGEMEMBER CM
INNER JOIN CHALLENGE CG
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE CM.EMAIL = 'ywoo0309@gmail.com'
) NOWCNT

SELECT * FROM CHALLENGEMEMBER
SELECT * FROM CHALLENGE

SELECT NOWCNT.*,
(SELECT 
COUNT(*) AS TOTAL
FROM CHALLENGEMEMBER CM
INNER JOIN CHALLENGE CG
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE SYSDATE > CG.CHALLENGESTART AND CG.CHALLENGEEND > SYSDATE
) AS NOWCNT2
FROM 
(SELECT 
COUNT(*) AS TOTAL
FROM CHALLENGEMEMBER CM
INNER JOIN CHALLENGE CG
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE CM.EMAIL = #{email}
) NOWCNT



SELECT * FROM CHALLENGEWISH

DELETE FROM CHALLENGEWISH
WHERE WISHSEQ = '5006'

UPDATE MEMBER 
SET POINT = '10000'
WHERE EMAIL = 'ywoo0309@gmail.com'


SELECT COUNT(*)
FROM CHALLENGEWISH
WHERE EMAIL = 'ywoo0309@gmail.com'

SELECT COUNT(*)
FROM CHALLENGEWISH
WHERE EMAIL = #{email}

SELECT 
CG.CATEGORY, CG.IDENTIFYFREQUENCY, CG.CHALLENGEPERIOD, CG.CHALLENGETITLE
FROM CHALLENGE CG
INNER JOIN CHALLENGEMEMBER CM
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE SYSDATE > CG.CHALLENGESTART AND CG.CHALLENGEEND > SYSDATE
AND CM.EMAIL = 'ywoo0309@gmail.com'

-- 진행 완료된 챌린지
SELECT COUNT(*)
FROM CHALLENGE
WHERE SYSDATE > CHALLENGEEND AND EMAIL = 'ywoo0309@gmail.com'

-- 데일리 챌린지
SELECT COUNT(*)
FROM CHALLENGE
WHERE SYSDATE > CHALLENGESTART AND CHALLENGEEND > SYSDATE AND EMAIL = 'ywoo0309@gmail.com'

SELECT CG.CHALLENGESEQ, CG.CATEGORY, CG.IDENTIFYFREQUENCY, CG.CHALLENGEPERIOD, CG.CHALLENGETITLE
		FROM CHALLENGE CG
		INNER JOIN CHALLENGEMEMBER CM
		ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
		WHERE
			<c:choose>
				<c:when test='NAME eq 0'>
					CG.CHALLENGESTART > SYSDATE AND CG.CHALLENGEEND > SYSDATE
				</c:when>
				<c:when test='NAME eq 1'>
					SYSDATE > CG.CHALLENGESTART AND CG.CHALLENGEEND > SYSDATE
				</c:when>
				<c:when test='NAME eq 2'>
					SYSDATE > CG.CHALLENGESTART AND SYSDATE > CG.CHALLENGEEND
				</c:when>
			</c:choose>
AND CM.EMAIL = #{email}

SELECT * FROM CHALLENGE

SELECT * FROM MEMBER

SELECT COUNT(*) AS TOTAL, CG.CATEGORY 
		FROM CHALLENGE CG
		INNER JOIN CHALLENGEMEMBER CM
		ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
		WHERE CM.EMAIL = 'ywoo0309@gmail.com'
		GROUP BY CG.CATEGORY
		
-- 오늘 진행중인 챌린지
SELECT CG.CHALLENGESEQ, CG.CATEGORY, CG.IDENTIFYFREQUENCY, CG.CHALLENGEPERIOD, CG.CHALLENGETITLE, CG.CHALLENGESAVEPHOTO
FROM CHALLENGE CG
INNER JOIN CHALLENGEMEMBER CM
ON CM.CHALLENGESEQ = CG.CHALLENGESEQ
WHERE SYSDATE > CHALLENGESTART AND CHALLENGEEND > SYSDATE
AND CM.EMAIL = 'ywoo0309@gmail.com'