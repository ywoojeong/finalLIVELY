DROP TABLE SUGGESTCOMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE SCOM_SEQ;

--SUGGESTCOMMENT

CREATE TABLE SUGGESTCOMMENT(
		SUGCOMSEQ NUMBER CONSTRAINT SUGCOM_PRI PRIMARY KEY,
		SUGCOMCONTENT VARCHAR2(2000),
		SUGCOMDATE DATE,
		SUGCOMDEL NUMBER,
		SUGGESTBBSSEQ NUMBER,
		EMAIL VARCHAR2(50),			
  		CONSTRAINT FK_SUGCOM FOREIGN KEY (SUGGESTBBSSEQ) 
        REFERENCES SUGGESTBBS(SUGGESTBBSSEQ),
        CONSTRAINT FK_SUGCOM2 FOREIGN KEY (EMAIL) 
        REFERENCES MEMBER(EMAIL)
)


CREATE SEQUENCE SCOM_SEQ
START WITH 10000
INCREMENT BY 1

SELECT * FROM SUGGESTCOMMENT

INSERT INTO SUGGESTCOMMENT(SUGCOMSEQ, SUGCOMCONTENT, SUGCOMDATE, SUGCOMDEL, SUGGESTBBSSEQ, EMAIL)
VALUES(SCOM_SEQ.NEXTVAL, #{sugcomcontent}, SYSDATE, 0, #{suggestbbsseq}, #{email})




SELECT SUGCOMSEQ, SUGCOMCONTENT, TO_CHAR(SUGCOMDATE,'YYYY-MM-DD HH24:MI:SS') AS SUGCOMDATE, SUGCOMDEL, SUGGESTBBSSEQ 
FROM SUGGESTCOMMENT 
WHERE SUGGESTBBSSEQ = #{suggestbbsseq}

